{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaina\\\\OneDrive\\\\Desktop\\\\Sweet-Shop-Mangement-System\\\\sweet-shop-frontend\\\\src\\\\components\\\\CartSummary.tsx\";\n// src/components/CartSummary.tsx\nimport React from 'react';\n\n// --- Type Definitions ---\n// Note: It's best practice to define this type in a central file (like Dashboard.tsx) \n// and import it, but we define it here for completeness.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartSummary = ({\n  cart,\n  setCart,\n  placeOrder\n}) => {\n  const calculateTotal = () => {\n    return cart.reduce((total, item) => total + item.price_at_purchase * item.quantity, 0);\n  };\n\n  /**\r\n   * Updates the quantity of a sweet in the cart.\r\n   * If the new quantity is 0 or less, the item is removed from the cart.\r\n   */\n  const updateQuantity = (sweetId, delta) => {\n    setCart(prevCart => {\n      return prevCart.map(item => item.sweet_id === sweetId ? {\n        ...item,\n        quantity: item.quantity + delta\n      } : item).filter(item => item.quantity > 0); // Removes items where quantity drops to 0 or less\n    });\n  };\n\n  // Function to completely remove an item (alternative to using updateQuantity with a large negative delta)\n  const removeItem = sweetId => {\n    setCart(prevCart => prevCart.filter(item => item.sweet_id !== sweetId));\n  };\n  const total = calculateTotal();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card shadow-sm sticky-top\",\n    style: {\n      top: '6rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-header bg-primary text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"mb-0\",\n        children: \"\\uD83D\\uDED2 Your Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-muted\",\n        children: \"Cart is empty. Add some delicious sweets!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group list-group-flush\",\n        children: cart.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item d-flex justify-content-between align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"fw-bold\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-muted small\",\n              children: [\"\\u20B9\", item.price_at_purchase.toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-secondary me-2\"\n              // Decrease quantity (or remove item if it reaches 0)\n              ,\n              onClick: () => updateQuantity(item.sweet_id, -1),\n              disabled: item.quantity <= 1 // Disables if quantity is 1 (to force use of the remove button)\n              ,\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"fw-bold me-2\",\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-secondary\",\n              onClick: () => updateQuantity(item.sweet_id, 1),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-end\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"fw-bold d-block text-primary\",\n              children: [\"\\u20B9\", (item.price_at_purchase * item.quantity).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-link p-0 text-danger\",\n              onClick: () => removeItem(item.sweet_id),\n              children: \"Remove\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 33\n          }, this)]\n        }, item.sweet_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between fw-bold mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Total:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-success\",\n          children: [\"\\u20B9\", total.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-lg btn-success w-100\",\n        onClick: placeOrder,\n        disabled: cart.length === 0,\n        children: \"Place Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-sm btn-link text-danger w-100 mt-2\",\n        onClick: () => setCart([]),\n        disabled: cart.length === 0,\n        children: \"Clear Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n_c = CartSummary;\nexport default CartSummary;\nvar _c;\n$RefreshReg$(_c, \"CartSummary\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","CartSummary","cart","setCart","placeOrder","calculateTotal","reduce","total","item","price_at_purchase","quantity","updateQuantity","sweetId","delta","prevCart","map","sweet_id","filter","removeItem","className","style","top","children","fileName","_jsxFileName","lineNumber","columnNumber","length","name","toFixed","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/jaina/OneDrive/Desktop/Sweet-Shop-Mangement-System/sweet-shop-frontend/src/components/CartSummary.tsx"],"sourcesContent":["// src/components/CartSummary.tsx\r\nimport React from 'react';\r\n\r\n// --- Type Definitions ---\r\n// Note: It's best practice to define this type in a central file (like Dashboard.tsx) \r\n// and import it, but we define it here for completeness.\r\ninterface CartItem {\r\n    sweet_id: number;\r\n    name: string;\r\n    price_at_purchase: number;\r\n    quantity: number;\r\n}\r\n\r\ninterface CartSummaryProps {\r\n    cart: CartItem[];\r\n    setCart: React.Dispatch<React.SetStateAction<CartItem[]>>;\r\n    // CRITICAL FIX: Ensure placeOrder is typed as a Promise<void> since it's an async function\r\n    placeOrder: () => Promise<void>; \r\n}\r\n\r\nconst CartSummary: React.FC<CartSummaryProps> = ({ cart, setCart, placeOrder }) => {\r\n\r\n    const calculateTotal = () => {\r\n        return cart.reduce((total, item) => total + (item.price_at_purchase * item.quantity), 0);\r\n    };\r\n\r\n    /**\r\n     * Updates the quantity of a sweet in the cart.\r\n     * If the new quantity is 0 or less, the item is removed from the cart.\r\n     */\r\n    const updateQuantity = (sweetId: number, delta: number) => {\r\n        setCart(prevCart => {\r\n            return prevCart\r\n                .map(item => \r\n                    item.sweet_id === sweetId \r\n                        ? { ...item, quantity: item.quantity + delta } \r\n                        : item\r\n                )\r\n                .filter(item => item.quantity > 0); // Removes items where quantity drops to 0 or less\r\n        });\r\n    };\r\n    \r\n    // Function to completely remove an item (alternative to using updateQuantity with a large negative delta)\r\n    const removeItem = (sweetId: number) => {\r\n        setCart(prevCart => prevCart.filter(item => item.sweet_id !== sweetId));\r\n    };\r\n\r\n    const total = calculateTotal();\r\n\r\n    return (\r\n        <div className=\"card shadow-sm sticky-top\" style={{ top: '6rem' }}>\r\n            <div className=\"card-header bg-primary text-white\">\r\n                <h4 className=\"mb-0\">ðŸ›’ Your Cart</h4>\r\n            </div>\r\n            <div className=\"card-body\">\r\n                {cart.length === 0 ? (\r\n                    <p className=\"text-center text-muted\">Cart is empty. Add some delicious sweets!</p>\r\n                ) : (\r\n                    <ul className=\"list-group list-group-flush\">\r\n                        {cart.map(item => (\r\n                            <li \r\n                                key={item.sweet_id} \r\n                                className=\"list-group-item d-flex justify-content-between align-items-center\"\r\n                            >\r\n                                <div>\r\n                                    <span className=\"fw-bold\">{item.name}</span>\r\n                                    <div className=\"text-muted small\">\r\n                                        â‚¹{item.price_at_purchase.toFixed(2)}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"d-flex align-items-center\">\r\n                                    {/* Decrement Button */}\r\n                                    <button \r\n                                        className=\"btn btn-sm btn-outline-secondary me-2\"\r\n                                        // Decrease quantity (or remove item if it reaches 0)\r\n                                        onClick={() => updateQuantity(item.sweet_id, -1)}\r\n                                        disabled={item.quantity <= 1} // Disables if quantity is 1 (to force use of the remove button)\r\n                                    >\r\n                                        -\r\n                                    </button>\r\n                                    <span className=\"fw-bold me-2\">\r\n                                        {item.quantity}\r\n                                    </span>\r\n                                    {/* Increment Button */}\r\n                                    <button \r\n                                        className=\"btn btn-sm btn-outline-secondary\"\r\n                                        onClick={() => updateQuantity(item.sweet_id, 1)}\r\n                                    >\r\n                                        +\r\n                                    </button>\r\n                                </div>\r\n                                {/* Item Total & Remove */}\r\n                                <div className=\"text-end\">\r\n                                    <span className=\"fw-bold d-block text-primary\">\r\n                                        â‚¹{(item.price_at_purchase * item.quantity).toFixed(2)}\r\n                                    </span>\r\n                                    <button\r\n                                        className=\"btn btn-sm btn-link p-0 text-danger\"\r\n                                        onClick={() => removeItem(item.sweet_id)}\r\n                                    >\r\n                                        Remove\r\n                                    </button>\r\n                                </div>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                )}\r\n            </div>\r\n            \r\n            <div className=\"card-footer\">\r\n                <div className=\"d-flex justify-content-between fw-bold mb-3\">\r\n                    <span>Total:</span>\r\n                    <span className=\"text-success\">â‚¹{total.toFixed(2)}</span>\r\n                </div>\r\n                <button \r\n                    className=\"btn btn-lg btn-success w-100\"\r\n                    onClick={placeOrder}\r\n                    disabled={cart.length === 0}\r\n                >\r\n                    Place Order\r\n                </button>\r\n                <button \r\n                    className=\"btn btn-sm btn-link text-danger w-100 mt-2\"\r\n                    onClick={() => setCart([])}\r\n                    disabled={cart.length === 0}\r\n                >\r\n                    Clear Cart\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartSummary;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}